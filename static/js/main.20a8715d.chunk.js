(window.webpackJsonproyalur=window.webpackJsonproyalur||[]).push([[0],{124:function(e,t,r){e.exports=r.p+"static/media/gameBoard.03cbc304.png"},125:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),i=r(48),o=r.n(i),s=r(5),l=r(6),u=r(8),d=r(7),c=r(9),h=r(2),m=r.n(h),p=r(3),y=r.n(p),f=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(r=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).onclickMarker=function(){r.props.markerAndPlayer&&r.props.markerAndPlayer.player.hasTurn&&r.props.moveMarker(r.props.markerAndPlayer.marker)},r}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){this.props.markerAndPlayer&&this.props.markerAndPlayer.player,this.props.markerAndPlayer&&this.props.markerAndPlayer.marker;return n.a.createElement("div",{onClick:this.onclickMarker,style:v.gameSquare},this.marker)}},{key:"marker",get:function(){if(this.props.markerAndPlayer)return n.a.createElement("div",{style:{width:"40%",height:"40%",borderRadius:"100%",backgroundColor:this.props.markerAndPlayer.player.color,border:"1",borderStyle:"solid",borderColor:"white"}})}}]),t}(n.a.Component),v={gameSquare:{display:"flex",alignItems:"center",justifyContent:"center",height:"21.3%",minWidth:"11%",margin:"0.5%"},squareId:{color:"white"}},g=[{id:"A1",extraTurn:!0},{id:"A2"},{id:"A3"},{id:"A4"},{id:"A5"},{id:"A6"},{id:"A7",extraTurn:!0},{id:"A8"},{id:"B1"},{id:"B2"},{id:"B3"},{id:"B4",extraTurn:!0},{id:"B5"},{id:"B6"},{id:"B7"},{id:"B8"},{id:"C1",extraTurn:!0},{id:"C2"},{id:"C3"},{id:"C4"},{id:"C5"},{id:"C6"},{id:"C7",extraTurn:!0},{id:"C8"}],k={id:1,name:"Kalle",color:"red",hasTurn:!0,markers:[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6}],moveList:["A4","A3","A2","A1","B1","B2","B3","B4","B5","B6","B7","B8","A8","A7"]},T={id:2,name:"Pelle",color:"blue",hasTurn:!1,markers:[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6}],moveList:["C4","C3","C2","C1","B1","B2","B3","B4","B5","B6","B7","B8","C8","C7"]};var w=function(e){function t(e){var r;return Object(s.a)(this,t),(r=Object(u.a)(this,Object(d.a)(t).call(this,e))).moveMarker=function(e){if(r.state.stepAmount){var t=r.players,a=function(e,t,r,a){var n=g[0],i=e.markers.filter(function(e){return!!e.square}),o=t.markers.filter(function(e){return!!e.square});if(a.square){var s=e.moveList.findIndex(function(e){return e==a.square.id});if(s+r==e.moveList.length)return console.log("Markern g\xe5r ut!"),e.markers.forEach(function(e){e.id==a.id&&(e.square=void 0,e.finished=!0)}),e.hasTurn=!e.hasTurn,t.hasTurn=!t.hasTurn,{playerToMove:e,otherPlayer:t};if(s+r>e.moveList.length)return void console.log("F\xf6r l\xe5ngt");n=y()(g).find(function(t){return t.id==e.moveList[s+r]})}if(a.square||(n=y()(g).find(function(t){return t.id==e.moveList[r-1]})),n.extraTurn){var l=o.find(function(e){if(e.square&&e.square.id==n.id)return e});if(l){console.log("Det finns en fiendes marker p\xe5 specialsquare. V\xe4ljer n\xe4sta square!");var u=e.moveList.findIndex(function(e){return e==l.square.id})+1;n=g.find(function(t){return t.id==e.moveList[u]})}}if(!y()(i).find(function(e){return e.square.id==n.id}))return function(e,t,r,a){return t.markers.forEach(function(e){e.square&&e.square.id==r.id&&delete e.square}),e.markers.forEach(function(e){e.id==a.id&&(e.square=r)}),r.extraTurn||(e.hasTurn=!1,t.hasTurn=!0),{playerToMove:e,otherPlayer:t}}(e,t,n,a);console.log("Det finns en egen marker p\xe5 ny plats")}(t.playerToMove,t.otherPlayer,r.state.stepAmount,e);if(a){var n=r.checkForWinner(a);r.setState({playerOne:"has won, congrats!"==n?k:1==t.playerToMove.id?a.playerToMove:a.otherPlayer,playerTwo:"has won, congrats!"==n?T:2==t.playerToMove.id?a.playerToMove:a.otherPlayer,stepAmount:void 0,feedbackText:n,diceResultToShow:void 0},function(){console.log(r.state)})}}},r.state={playerOne:k,playerTwo:T,stepAmount:void 0,feedbackText:"roll the dice!",diceResultToShow:void 0},r}return Object(c.a)(t,e),Object(l.a)(t,[{key:"checkForWinner",value:function(e){var t=!y()(e.playerToMove.markers).find(function(e){return!e.finished}),r=!y()(e.otherPlayer.markers).find(function(e){return!e.finished});return(t?e.playerToMove:r?e.otherPlayer:void 0)?"has won, congrats!":"roll the dice!"}},{key:"simulateDiceThrow",value:function(){var e=Math.floor(Math.random()*Math.floor(5));if(console.log(e),0==e){var t=this.state.playerOne.hasTurn?m()(this.state.playerOne):m()(this.state.playerTwo),r=1==t.id?m()(this.state.playerTwo):m()(this.state.playerOne);t.hasTurn=!1,r.hasTurn=!0,this.setState({feedbackText:"hit the dice!",stepAmount:void 0,diceResultToShow:e,playerOne:1==t.id?t:r,playerTwo:2==t.id?t:r})}else this.setState({feedbackText:"move marker!",stepAmount:e,diceResultToShow:e})}},{key:"findMarkerOnSquare",value:function(e){var t=this.state.playerOne.markers.find(function(t){return t.square&&t.square.id===e.id}),r=this.state.playerTwo.markers.find(function(t){return t.square&&t.square.id===e.id}),a=t||(r||void 0),n=t?this.state.playerOne:r?this.state.playerTwo:void 0;return a&&n?{player:n,marker:a}:void 0}},{key:"render",value:function(){var e=this,t=r(124);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"flex-end",marginBottom:"1em"}},n.a.createElement("div",{style:{width:"30%",display:"flex",justifyContent:"center"}},this.state.playerOne.markers.map(function(t){if(!t.finished&&!t.square)return n.a.createElement("div",{style:{width:"3vw",height:"3vw",borderRadius:"100%",marginRight:"10px",backgroundColor:e.state.playerOne.color}})})),n.a.createElement("div",{style:{width:"30%",display:"flex",alignItems:"center",flexDirection:"column"}},n.a.createElement("h1",{style:{fontSize:"3em",margin:"0.2em"}},void 0!=this.state.diceResultToShow?"Dice: "+this.state.diceResultToShow:"-"),n.a.createElement("h1",{style:{fontSize:"2em",margin:"1em"}},n.a.createElement("span",{style:{color:this.players.playerToMove.color,marginRight:"10px"}},this.players.playerToMove.color.toUpperCase()),this.state.feedbackText),n.a.createElement("div",{style:b.navigationWrapper},this.moveNewButton,this.diceButton,this.passButton)),n.a.createElement("div",{style:{width:"30%",display:"flex",justifyContent:"center"}},this.state.playerTwo.markers.map(function(t){if(!t.finished&&!t.square)return n.a.createElement("div",{style:{width:"3vw",height:"3vw",borderRadius:"100%",marginRight:"10px",backgroundColor:e.state.playerTwo.color}})}))),n.a.createElement("div",{style:b.gameBoardWrapper},n.a.createElement("img",{style:b.gameBoardImage,src:t,alt:""}),n.a.createElement("div",{style:b.gameBoard},this.gameSquares)))}},{key:"players",get:function(){return{playerToMove:this.state.playerOne.hasTurn?m()(this.state.playerOne):m()(this.state.playerTwo),otherPlayer:this.state.playerTwo.hasTurn?m()(this.state.playerOne):m()(this.state.playerTwo)}}},{key:"moveNewButton",get:function(){var e=this,t=this.players.playerToMove,r=y()(t.markers).find(function(e){return!e.square&&!e.finished}),a=r&&void 0!=this.state.stepAmount,i=a?"ui big button "+t.color:"ui big button disabled "+t.color,o=a?function(){e.moveMarker(r)}:function(){console.log("Inga markers kvar")};return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:i,onClick:o},"Place new"))}},{key:"diceButton",get:function(){var e=this,t="ui big button green "+(void 0!=this.state.stepAmount?"disabled":"");return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:t,onClick:function(){e.simulateDiceThrow()}},"Throw dices!"))}},{key:"passButton",get:function(){var e=this,t=this.players;return t.playerToMove.hasTurn=!1,t.otherPlayer.hasTurn=!0,n.a.createElement("button",{className:"ui big button",onClick:function(){e.setState({playerOne:t.playerToMove,playerTwo:t.otherPlayer,stepAmount:void 0,diceResultToShow:void 0,feedbackText:"roll the dice!"})}},"Pass")}},{key:"gameSquares",get:function(){var e=this;return g.map(function(t){var r=e.findMarkerOnSquare(t);return n.a.createElement(f,{squareData:t,markerAndPlayer:r,moveMarker:e.moveMarker})})}}]),t}(n.a.Component),b={gameBoardImage:{width:"100%"},gameBoardWrapper:{position:"relative",display:"flex",justifyContent:"center",width:"100wv"},gameBoard:{position:"absolute",display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",alignContent:"center",padding:"0% 4.5% 0% 4.5%",width:"100%",height:"100%"},navigationWrapper:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},B=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{style:C.mainContainer,className:"ui container"},n.a.createElement(w,null))}}]),t}(n.a.Component),C={mainContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"80vw",height:"100vh",padding:"1em"}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},49:function(e,t,r){e.exports=r(125)}},[[49,1,2]]]);
//# sourceMappingURL=main.20a8715d.chunk.js.map